#include "test.h"
#include "../codec.h"

#include <assert.h>

int main() {
    {
        // Encode signed integer
        jsb_uint8_t buffer[1];
        jsb_int8_t output;
        ASSERT_JSB_OK(jsb_encode_int8(buffer, INT8_MAX));
        ASSERT_JSB_OK(jsb_decode_int8(buffer, &output));
        assert(output == INT8_MAX);
        ASSERT_JSB_OK(jsb_encode_int8(buffer, INT8_MIN));
        ASSERT_JSB_OK(jsb_decode_int8(buffer, &output));
        assert(output == INT8_MIN);
        ASSERT_JSB_OK(jsb_encode_int8(buffer, 0));
        ASSERT_JSB_OK(jsb_decode_int8(buffer, &output));
        assert(output == 0);
        ASSERT_JSB_OK(jsb_encode_int8(buffer, 1));
        ASSERT_JSB_OK(jsb_decode_int8(buffer, &output));
        assert(output == 1);
        ASSERT_JSB_OK(jsb_encode_int8(buffer, 3));
        ASSERT_JSB_OK(jsb_decode_int8(buffer, &output));
        assert(output == 3);
        ASSERT_JSB_OK(jsb_encode_int8(buffer, 7));
        ASSERT_JSB_OK(jsb_decode_int8(buffer, &output));
        assert(output == 7);
        ASSERT_JSB_OK(jsb_encode_int8(buffer, 15));
        ASSERT_JSB_OK(jsb_decode_int8(buffer, &output));
        assert(output == 15);
        ASSERT_JSB_OK(jsb_encode_int8(buffer, 31));
        ASSERT_JSB_OK(jsb_decode_int8(buffer, &output));
        assert(output == 31);
        ASSERT_JSB_OK(jsb_encode_int8(buffer, 63));
        ASSERT_JSB_OK(jsb_decode_int8(buffer, &output));
        assert(output == 63);
        ASSERT_JSB_OK(jsb_encode_int8(buffer, 127));
        ASSERT_JSB_OK(jsb_decode_int8(buffer, &output));
        assert(output == 127);
    }
    {
        // Encode signed integer
        jsb_uint8_t buffer[2];
        jsb_int16_t output;
        ASSERT_JSB_OK(jsb_encode_int16(buffer, INT16_MAX));
        ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
        assert(output == INT16_MAX);
        ASSERT_JSB_OK(jsb_encode_int16(buffer, INT16_MIN));
        ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
        assert(output == INT16_MIN);
        ASSERT_JSB_OK(jsb_encode_int16(buffer, 0));
        ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
        assert(output == 0);
        ASSERT_JSB_OK(jsb_encode_int16(buffer, 1));
        ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
        assert(output == 1);
        ASSERT_JSB_OK(jsb_encode_int16(buffer, 3));
        ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
        assert(output == 3);
        ASSERT_JSB_OK(jsb_encode_int16(buffer, 7));
        ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
        assert(output == 7);
        ASSERT_JSB_OK(jsb_encode_int16(buffer, 15));
        ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
        assert(output == 15);
        ASSERT_JSB_OK(jsb_encode_int16(buffer, 31));
        ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
        assert(output == 31);
        ASSERT_JSB_OK(jsb_encode_int16(buffer, 63));
        ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
        assert(output == 63);
        ASSERT_JSB_OK(jsb_encode_int16(buffer, 127));
        ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
        assert(output == 127);
        ASSERT_JSB_OK(jsb_encode_int16(buffer, 255));
        ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
        assert(output == 255);
        ASSERT_JSB_OK(jsb_encode_int16(buffer, 511));
        ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
        assert(output == 511);
        ASSERT_JSB_OK(jsb_encode_int16(buffer, 1023));
        ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
        assert(output == 1023);
        ASSERT_JSB_OK(jsb_encode_int16(buffer, 2047));
        ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
        assert(output == 2047);
        ASSERT_JSB_OK(jsb_encode_int16(buffer, 4095));
        ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
        assert(output == 4095);
        ASSERT_JSB_OK(jsb_encode_int16(buffer, 8191));
        ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
        assert(output == 8191);
        ASSERT_JSB_OK(jsb_encode_int16(buffer, 16383));
        ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
        assert(output == 16383);
        ASSERT_JSB_OK(jsb_encode_int16(buffer, 32767));
        ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
        assert(output == 32767);
    }
    {
        // Encode signed integer
        jsb_uint8_t buffer[4];
        jsb_int32_t output;
        ASSERT_JSB_OK(jsb_encode_int32(buffer, INT32_MAX));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == INT32_MAX);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, INT32_MIN));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == INT32_MIN);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 0));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 0);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 1));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 1);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 3));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 3);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 7));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 7);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 15));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 15);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 31));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 31);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 63));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 63);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 127));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 127);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 255));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 255);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 511));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 511);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 1023));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 1023);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 2047));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 2047);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 4095));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 4095);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 8191));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 8191);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 16383));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 16383);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 32767));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 32767);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 65535));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 65535);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 131071));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 131071);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 262143));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 262143);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 524287));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 524287);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 1048575));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 1048575);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 2097151));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 2097151);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 4194303));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 4194303);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 8388607));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 8388607);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 16777215));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 16777215);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 33554431));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 33554431);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 67108863));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 67108863);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 134217727));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 134217727);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 268435455));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 268435455);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 536870911));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 536870911);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 1073741823));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 1073741823);
        ASSERT_JSB_OK(jsb_encode_int32(buffer, 2147483647));
        ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
        assert(output == 2147483647);
    }
    {
        // Encode signed integer
        jsb_uint8_t buffer[8];
        jsb_int64_t output;
        ASSERT_JSB_OK(jsb_encode_int64(buffer, INT64_MAX));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == INT64_MAX);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, INT64_MIN));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == INT64_MIN);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 0L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 0L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 1L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 1L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 3L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 3L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 7L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 7L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 15L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 15L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 31L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 31L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 63L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 63L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 127L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 127L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 255L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 255L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 511L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 511L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 1023L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 1023L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 2047L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 2047L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 4095L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 4095L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 8191L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 8191L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 16383L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 16383L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 32767L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 32767L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 65535L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 65535L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 131071L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 131071L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 262143L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 262143L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 524287L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 524287L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 1048575L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 1048575L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 2097151L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 2097151L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 4194303L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 4194303L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 8388607L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 8388607L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 16777215L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 16777215L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 33554431L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 33554431L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 67108863L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 67108863L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 134217727L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 134217727L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 268435455L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 268435455L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 536870911L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 536870911L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 1073741823L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 1073741823L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 2147483647L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 2147483647L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 4294967295L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 4294967295L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 8589934591L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 8589934591L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 17179869183L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 17179869183L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 34359738367L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 34359738367L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 68719476735L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 68719476735L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 137438953471L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 137438953471L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 274877906943L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 274877906943L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 549755813887L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 549755813887L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 1099511627775L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 1099511627775L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 2199023255551L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 2199023255551L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 4398046511103L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 4398046511103L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 8796093022207L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 8796093022207L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 17592186044415L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 17592186044415L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 35184372088831L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 35184372088831L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 70368744177663L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 70368744177663L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 140737488355327L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 140737488355327L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 281474976710655L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 281474976710655L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 562949953421311L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 562949953421311L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 1125899906842623L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 1125899906842623L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 2251799813685247L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 2251799813685247L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 4503599627370495L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 4503599627370495L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 9007199254740991L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 9007199254740991L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 18014398509481983L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 18014398509481983L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 36028797018963967L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 36028797018963967L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 72057594037927935L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 72057594037927935L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 144115188075855871L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 144115188075855871L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 288230376151711743L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 288230376151711743L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 576460752303423487L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 576460752303423487L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 1152921504606846975L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 1152921504606846975L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 2305843009213693951L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 2305843009213693951L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 4611686018427387903L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 4611686018427387903L);
        ASSERT_JSB_OK(jsb_encode_int64(buffer, 9223372036854775807L));
        ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
        assert(output == 9223372036854775807L);
    }
    {
        // Encode signed integer
        jsb_uint8_t buffer[8];
        jsb_uint64_t output;
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, UINT64_MAX));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == UINT64_MAX);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 0UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 0UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 1UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 1UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 3UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 3UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 7UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 7UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 15UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 15UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 31UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 31UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 63UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 63UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 127UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 127UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 255UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 255UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 511UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 511UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 1023UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 1023UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 2047UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 2047UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 4095UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 4095UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 8191UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 8191UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 16383UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 16383UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 32767UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 32767UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 65535UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 65535UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 131071UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 131071UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 262143UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 262143UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 524287UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 524287UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 1048575UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 1048575UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 2097151UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 2097151UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 4194303UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 4194303UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 8388607UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 8388607UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 16777215UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 16777215UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 33554431UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 33554431UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 67108863UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 67108863UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 134217727UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 134217727UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 268435455UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 268435455UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 536870911UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 536870911UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 1073741823UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 1073741823UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 2147483647UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 2147483647UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 4294967295UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 4294967295UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 8589934591UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 8589934591UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 17179869183UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 17179869183UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 34359738367UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 34359738367UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 68719476735UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 68719476735UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 137438953471UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 137438953471UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 274877906943UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 274877906943UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 549755813887UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 549755813887UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 1099511627775UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 1099511627775UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 2199023255551UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 2199023255551UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 4398046511103UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 4398046511103UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 8796093022207UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 8796093022207UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 17592186044415UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 17592186044415UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 35184372088831UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 35184372088831UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 70368744177663UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 70368744177663UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 140737488355327UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 140737488355327UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 281474976710655UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 281474976710655UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 562949953421311UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 562949953421311UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 1125899906842623UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 1125899906842623UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 2251799813685247UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 2251799813685247UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 4503599627370495UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 4503599627370495UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 9007199254740991UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 9007199254740991UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 18014398509481983UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 18014398509481983UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 36028797018963967UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 36028797018963967UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 72057594037927935UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 72057594037927935UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 144115188075855871UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 144115188075855871UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 288230376151711743UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 288230376151711743UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 576460752303423487UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 576460752303423487UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 1152921504606846975UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 1152921504606846975UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 2305843009213693951UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 2305843009213693951UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 4611686018427387903UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 4611686018427387903UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 9223372036854775807UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 9223372036854775807UL);
        ASSERT_JSB_OK(jsb_encode_uint64(buffer, 18446744073709551615UL));
        ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
        assert(output == 18446744073709551615UL);
    }
    {
        // Encode signed integer
        jsb_uint8_t buffer[4];
        jsb_uint32_t output;
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, UINT32_MAX));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == UINT32_MAX);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 0));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 0);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 1));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 1);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 3));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 3);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 7));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 7);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 15));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 15);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 31));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 31);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 63));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 63);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 127));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 127);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 255));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 255);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 511));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 511);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 1023));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 1023);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 2047));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 2047);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 4095));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 4095);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 8191));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 8191);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 16383));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 16383);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 32767));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 32767);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 65535));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 65535);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 131071));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 131071);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 262143));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 262143);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 524287));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 524287);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 1048575));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 1048575);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 2097151));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 2097151);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 4194303));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 4194303);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 8388607));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 8388607);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 16777215));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 16777215);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 33554431));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 33554431);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 67108863));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 67108863);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 134217727));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 134217727);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 268435455));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 268435455);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 536870911));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 536870911);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 1073741823));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 1073741823);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 2147483647));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 2147483647);
        ASSERT_JSB_OK(jsb_encode_uint32(buffer, 4294967295));
        ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
        assert(output == 4294967295);
    }
    {
        // Encode signed integer
        jsb_uint8_t buffer[2];
        jsb_uint16_t output;
        ASSERT_JSB_OK(jsb_encode_uint16(buffer, UINT16_MAX));
        ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
        assert(output == UINT16_MAX);
        ASSERT_JSB_OK(jsb_encode_uint16(buffer, 0));
        ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
        assert(output == 0);
        ASSERT_JSB_OK(jsb_encode_uint16(buffer, 1));
        ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
        assert(output == 1);
        ASSERT_JSB_OK(jsb_encode_uint16(buffer, 3));
        ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
        assert(output == 3);
        ASSERT_JSB_OK(jsb_encode_uint16(buffer, 7));
        ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
        assert(output == 7);
        ASSERT_JSB_OK(jsb_encode_uint16(buffer, 15));
        ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
        assert(output == 15);
        ASSERT_JSB_OK(jsb_encode_uint16(buffer, 31));
        ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
        assert(output == 31);
        ASSERT_JSB_OK(jsb_encode_uint16(buffer, 63));
        ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
        assert(output == 63);
        ASSERT_JSB_OK(jsb_encode_uint16(buffer, 127));
        ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
        assert(output == 127);
        ASSERT_JSB_OK(jsb_encode_uint16(buffer, 255));
        ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
        assert(output == 255);
        ASSERT_JSB_OK(jsb_encode_uint16(buffer, 511));
        ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
        assert(output == 511);
        ASSERT_JSB_OK(jsb_encode_uint16(buffer, 1023));
        ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
        assert(output == 1023);
        ASSERT_JSB_OK(jsb_encode_uint16(buffer, 2047));
        ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
        assert(output == 2047);
        ASSERT_JSB_OK(jsb_encode_uint16(buffer, 4095));
        ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
        assert(output == 4095);
        ASSERT_JSB_OK(jsb_encode_uint16(buffer, 8191));
        ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
        assert(output == 8191);
        ASSERT_JSB_OK(jsb_encode_uint16(buffer, 16383));
        ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
        assert(output == 16383);
        ASSERT_JSB_OK(jsb_encode_uint16(buffer, 32767));
        ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
        assert(output == 32767);
        ASSERT_JSB_OK(jsb_encode_uint16(buffer, 65535));
        ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
        assert(output == 65535);
    }
    {
        // Encode signed integer
        jsb_uint8_t buffer[1];
        jsb_uint8_t output;
        ASSERT_JSB_OK(jsb_encode_uint8(buffer, UINT8_MAX));
        ASSERT_JSB_OK(jsb_decode_uint8(buffer, &output));
        assert(output == UINT8_MAX);
        ASSERT_JSB_OK(jsb_encode_uint8(buffer, 0));
        ASSERT_JSB_OK(jsb_decode_uint8(buffer, &output));
        assert(output == 0);
        ASSERT_JSB_OK(jsb_encode_uint8(buffer, 1));
        ASSERT_JSB_OK(jsb_decode_uint8(buffer, &output));
        assert(output == 1);
        ASSERT_JSB_OK(jsb_encode_uint8(buffer, 3));
        ASSERT_JSB_OK(jsb_decode_uint8(buffer, &output));
        assert(output == 3);
        ASSERT_JSB_OK(jsb_encode_uint8(buffer, 7));
        ASSERT_JSB_OK(jsb_decode_uint8(buffer, &output));
        assert(output == 7);
        ASSERT_JSB_OK(jsb_encode_uint8(buffer, 15));
        ASSERT_JSB_OK(jsb_decode_uint8(buffer, &output));
        assert(output == 15);
        ASSERT_JSB_OK(jsb_encode_uint8(buffer, 31));
        ASSERT_JSB_OK(jsb_decode_uint8(buffer, &output));
        assert(output == 31);
        ASSERT_JSB_OK(jsb_encode_uint8(buffer, 63));
        ASSERT_JSB_OK(jsb_decode_uint8(buffer, &output));
        assert(output == 63);
        ASSERT_JSB_OK(jsb_encode_uint8(buffer, 127));
        ASSERT_JSB_OK(jsb_decode_uint8(buffer, &output));
        assert(output == 127);
        ASSERT_JSB_OK(jsb_encode_uint8(buffer, 255));
        ASSERT_JSB_OK(jsb_decode_uint8(buffer, &output));
        assert(output == 255);
    }
}
