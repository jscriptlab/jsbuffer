#include "../codec.h"
#include "test.h"

#include <assert.h>
#include <float.h>
#include <jsb/ieee754.h>

int main() {
  {
    // Encode signed integer
    jsb_uint8_t buffer[1];
    jsb_int8_t output;
    ASSERT_JSB_OK(jsb_encode_int8(buffer, INT8_MAX));
    ASSERT_JSB_OK(jsb_decode_int8(buffer, &output));
    ASSERT_JSB(output == INT8_MAX);
    ASSERT_JSB_OK(jsb_encode_int8(buffer, INT8_MIN));
    ASSERT_JSB_OK(jsb_decode_int8(buffer, &output));
    ASSERT_JSB(output == INT8_MIN);
    ASSERT_JSB_OK(jsb_encode_int8(buffer, 0));
    ASSERT_JSB_OK(jsb_decode_int8(buffer, &output));
    ASSERT_JSB(output == 0);
    ASSERT_JSB_OK(jsb_encode_int8(buffer, 1));
    ASSERT_JSB_OK(jsb_decode_int8(buffer, &output));
    ASSERT_JSB(output == 1);
    ASSERT_JSB_OK(jsb_encode_int8(buffer, 3));
    ASSERT_JSB_OK(jsb_decode_int8(buffer, &output));
    ASSERT_JSB(output == 3);
    ASSERT_JSB_OK(jsb_encode_int8(buffer, 7));
    ASSERT_JSB_OK(jsb_decode_int8(buffer, &output));
    ASSERT_JSB(output == 7);
    ASSERT_JSB_OK(jsb_encode_int8(buffer, 15));
    ASSERT_JSB_OK(jsb_decode_int8(buffer, &output));
    ASSERT_JSB(output == 15);
    ASSERT_JSB_OK(jsb_encode_int8(buffer, 31));
    ASSERT_JSB_OK(jsb_decode_int8(buffer, &output));
    ASSERT_JSB(output == 31);
    ASSERT_JSB_OK(jsb_encode_int8(buffer, 63));
    ASSERT_JSB_OK(jsb_decode_int8(buffer, &output));
    ASSERT_JSB(output == 63);
    ASSERT_JSB_OK(jsb_encode_int8(buffer, 127));
    ASSERT_JSB_OK(jsb_decode_int8(buffer, &output));
    ASSERT_JSB(output == 127);
  }
  {
    // Encode signed integer
    jsb_uint8_t buffer[2];
    jsb_int16_t output;
    ASSERT_JSB_OK(jsb_encode_int16(buffer, INT16_MAX));
    ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
    ASSERT_JSB(output == INT16_MAX);
    ASSERT_JSB_OK(jsb_encode_int16(buffer, INT16_MIN));
    ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
    ASSERT_JSB(output == INT16_MIN);
    ASSERT_JSB_OK(jsb_encode_int16(buffer, 0));
    ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
    ASSERT_JSB(output == 0);
    ASSERT_JSB_OK(jsb_encode_int16(buffer, 1));
    ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
    ASSERT_JSB(output == 1);
    ASSERT_JSB_OK(jsb_encode_int16(buffer, 3));
    ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
    ASSERT_JSB(output == 3);
    ASSERT_JSB_OK(jsb_encode_int16(buffer, 7));
    ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
    ASSERT_JSB(output == 7);
    ASSERT_JSB_OK(jsb_encode_int16(buffer, 15));
    ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
    ASSERT_JSB(output == 15);
    ASSERT_JSB_OK(jsb_encode_int16(buffer, 31));
    ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
    ASSERT_JSB(output == 31);
    ASSERT_JSB_OK(jsb_encode_int16(buffer, 63));
    ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
    ASSERT_JSB(output == 63);
    ASSERT_JSB_OK(jsb_encode_int16(buffer, 127));
    ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
    ASSERT_JSB(output == 127);
    ASSERT_JSB_OK(jsb_encode_int16(buffer, 255));
    ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
    ASSERT_JSB(output == 255);
    ASSERT_JSB_OK(jsb_encode_int16(buffer, 511));
    ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
    ASSERT_JSB(output == 511);
    ASSERT_JSB_OK(jsb_encode_int16(buffer, 1023));
    ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
    ASSERT_JSB(output == 1023);
    ASSERT_JSB_OK(jsb_encode_int16(buffer, 2047));
    ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
    ASSERT_JSB(output == 2047);
    ASSERT_JSB_OK(jsb_encode_int16(buffer, 4095));
    ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
    ASSERT_JSB(output == 4095);
    ASSERT_JSB_OK(jsb_encode_int16(buffer, 8191));
    ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
    ASSERT_JSB(output == 8191);
    ASSERT_JSB_OK(jsb_encode_int16(buffer, 16383));
    ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
    ASSERT_JSB(output == 16383);
    ASSERT_JSB_OK(jsb_encode_int16(buffer, 32767));
    ASSERT_JSB_OK(jsb_decode_int16(buffer, &output));
    ASSERT_JSB(output == 32767);
  }
  {
    // Encode signed integer
    jsb_uint8_t buffer[4];
    jsb_int32_t output;
    ASSERT_JSB_OK(jsb_encode_int32(buffer, INT32_MAX));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == INT32_MAX);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, INT32_MIN));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == INT32_MIN);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 0));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 0);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 1));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 1);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 3));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 3);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 7));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 7);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 15));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 15);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 31));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 31);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 63));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 63);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 127));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 127);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 255));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 255);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 511));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 511);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 1023));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 1023);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 2047));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 2047);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 4095));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 4095);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 8191));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 8191);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 16383));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 16383);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 32767));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 32767);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 65535));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 65535);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 131071));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 131071);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 262143));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 262143);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 524287));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 524287);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 1048575));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 1048575);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 2097151));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 2097151);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 4194303));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 4194303);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 8388607));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 8388607);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 16777215));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 16777215);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 33554431));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 33554431);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 67108863));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 67108863);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 134217727));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 134217727);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 268435455));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 268435455);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 536870911));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 536870911);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 1073741823));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 1073741823);
    ASSERT_JSB_OK(jsb_encode_int32(buffer, 2147483647));
    ASSERT_JSB_OK(jsb_decode_int32(buffer, &output));
    ASSERT_JSB(output == 2147483647);
  }
  {
    // Encode signed integer
    jsb_uint8_t buffer[8];
    jsb_int64_t output;
    ASSERT_JSB_OK(jsb_encode_int64(buffer, INT64_MAX));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == INT64_MAX);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, INT64_MIN));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == INT64_MIN);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 0L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 0L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 1L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 1L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 3L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 3L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 7L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 7L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 15L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 15L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 31L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 31L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 63L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 63L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 127L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 127L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 255L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 255L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 511L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 511L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 1023L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 1023L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 2047L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 2047L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 4095L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 4095L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 8191L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 8191L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 16383L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 16383L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 32767L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 32767L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 65535L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 65535L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 131071L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 131071L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 262143L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 262143L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 524287L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 524287L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 1048575L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 1048575L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 2097151L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 2097151L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 4194303L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 4194303L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 8388607L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 8388607L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 16777215L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 16777215L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 33554431L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 33554431L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 67108863L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 67108863L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 134217727L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 134217727L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 268435455L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 268435455L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 536870911L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 536870911L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 1073741823L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 1073741823L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 2147483647L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 2147483647L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 4294967295L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 4294967295L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 8589934591L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 8589934591L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 17179869183L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 17179869183L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 34359738367L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 34359738367L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 68719476735L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 68719476735L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 137438953471L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 137438953471L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 274877906943L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 274877906943L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 549755813887L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 549755813887L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 1099511627775L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 1099511627775L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 2199023255551L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 2199023255551L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 4398046511103L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 4398046511103L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 8796093022207L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 8796093022207L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 17592186044415L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 17592186044415L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 35184372088831L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 35184372088831L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 70368744177663L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 70368744177663L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 140737488355327L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 140737488355327L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 281474976710655L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 281474976710655L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 562949953421311L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 562949953421311L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 1125899906842623L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 1125899906842623L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 2251799813685247L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 2251799813685247L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 4503599627370495L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 4503599627370495L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 9007199254740991L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 9007199254740991L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 18014398509481983L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 18014398509481983L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 36028797018963967L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 36028797018963967L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 72057594037927935L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 72057594037927935L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 144115188075855871L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 144115188075855871L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 288230376151711743L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 288230376151711743L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 576460752303423487L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 576460752303423487L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 1152921504606846975L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 1152921504606846975L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 2305843009213693951L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 2305843009213693951L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 4611686018427387903L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 4611686018427387903L);
    ASSERT_JSB_OK(jsb_encode_int64(buffer, 9223372036854775807L));
    ASSERT_JSB_OK(jsb_decode_int64(buffer, &output));
    ASSERT_JSB(output == 9223372036854775807L);
  }
  {
    // Encode signed integer
    jsb_uint8_t buffer[8];
    jsb_uint64_t output;
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, UINT64_MAX));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == UINT64_MAX);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 0UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 0UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 1UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 1UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 3UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 3UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 7UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 7UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 15UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 15UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 31UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 31UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 63UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 63UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 127UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 127UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 255UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 255UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 511UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 511UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 1023UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 1023UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 2047UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 2047UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 4095UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 4095UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 8191UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 8191UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 16383UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 16383UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 32767UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 32767UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 65535UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 65535UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 131071UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 131071UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 262143UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 262143UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 524287UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 524287UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 1048575UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 1048575UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 2097151UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 2097151UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 4194303UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 4194303UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 8388607UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 8388607UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 16777215UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 16777215UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 33554431UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 33554431UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 67108863UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 67108863UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 134217727UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 134217727UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 268435455UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 268435455UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 536870911UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 536870911UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 1073741823UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 1073741823UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 2147483647UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 2147483647UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 4294967295UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 4294967295UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 8589934591UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 8589934591UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 17179869183UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 17179869183UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 34359738367UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 34359738367UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 68719476735UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 68719476735UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 137438953471UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 137438953471UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 274877906943UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 274877906943UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 549755813887UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 549755813887UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 1099511627775UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 1099511627775UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 2199023255551UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 2199023255551UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 4398046511103UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 4398046511103UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 8796093022207UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 8796093022207UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 17592186044415UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 17592186044415UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 35184372088831UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 35184372088831UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 70368744177663UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 70368744177663UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 140737488355327UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 140737488355327UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 281474976710655UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 281474976710655UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 562949953421311UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 562949953421311UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 1125899906842623UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 1125899906842623UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 2251799813685247UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 2251799813685247UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 4503599627370495UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 4503599627370495UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 9007199254740991UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 9007199254740991UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 18014398509481983UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 18014398509481983UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 36028797018963967UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 36028797018963967UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 72057594037927935UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 72057594037927935UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 144115188075855871UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 144115188075855871UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 288230376151711743UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 288230376151711743UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 576460752303423487UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 576460752303423487UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 1152921504606846975UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 1152921504606846975UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 2305843009213693951UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 2305843009213693951UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 4611686018427387903UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 4611686018427387903UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 9223372036854775807UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 9223372036854775807UL);
    ASSERT_JSB_OK(jsb_encode_uint64(buffer, 18446744073709551615UL));
    ASSERT_JSB_OK(jsb_decode_uint64(buffer, &output));
    ASSERT_JSB(output == 18446744073709551615UL);
  }
  {
    // Encode signed integer
    jsb_uint8_t buffer[4];
    jsb_uint32_t output;
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, UINT32_MAX));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == UINT32_MAX);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 0));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 0);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 1));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 1);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 3));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 3);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 7));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 7);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 15));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 15);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 31));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 31);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 63));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 63);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 127));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 127);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 255));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 255);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 511));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 511);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 1023));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 1023);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 2047));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 2047);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 4095));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 4095);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 8191));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 8191);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 16383));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 16383);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 32767));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 32767);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 65535));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 65535);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 131071));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 131071);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 262143));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 262143);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 524287));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 524287);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 1048575));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 1048575);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 2097151));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 2097151);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 4194303));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 4194303);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 8388607));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 8388607);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 16777215));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 16777215);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 33554431));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 33554431);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 67108863));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 67108863);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 134217727));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 134217727);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 268435455));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 268435455);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 536870911));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 536870911);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 1073741823));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 1073741823);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 2147483647));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 2147483647);
    ASSERT_JSB_OK(jsb_encode_uint32(buffer, 4294967295));
    ASSERT_JSB_OK(jsb_decode_uint32(buffer, &output));
    ASSERT_JSB(output == 4294967295);
  }
  {
    // Encode signed integer
    jsb_uint8_t buffer[2];
    jsb_uint16_t output;
    ASSERT_JSB_OK(jsb_encode_uint16(buffer, UINT16_MAX));
    ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
    ASSERT_JSB(output == UINT16_MAX);
    ASSERT_JSB_OK(jsb_encode_uint16(buffer, 0));
    ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
    ASSERT_JSB(output == 0);
    ASSERT_JSB_OK(jsb_encode_uint16(buffer, 1));
    ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
    ASSERT_JSB(output == 1);
    ASSERT_JSB_OK(jsb_encode_uint16(buffer, 3));
    ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
    ASSERT_JSB(output == 3);
    ASSERT_JSB_OK(jsb_encode_uint16(buffer, 7));
    ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
    ASSERT_JSB(output == 7);
    ASSERT_JSB_OK(jsb_encode_uint16(buffer, 15));
    ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
    ASSERT_JSB(output == 15);
    ASSERT_JSB_OK(jsb_encode_uint16(buffer, 31));
    ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
    ASSERT_JSB(output == 31);
    ASSERT_JSB_OK(jsb_encode_uint16(buffer, 63));
    ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
    ASSERT_JSB(output == 63);
    ASSERT_JSB_OK(jsb_encode_uint16(buffer, 127));
    ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
    ASSERT_JSB(output == 127);
    ASSERT_JSB_OK(jsb_encode_uint16(buffer, 255));
    ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
    ASSERT_JSB(output == 255);
    ASSERT_JSB_OK(jsb_encode_uint16(buffer, 511));
    ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
    ASSERT_JSB(output == 511);
    ASSERT_JSB_OK(jsb_encode_uint16(buffer, 1023));
    ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
    ASSERT_JSB(output == 1023);
    ASSERT_JSB_OK(jsb_encode_uint16(buffer, 2047));
    ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
    ASSERT_JSB(output == 2047);
    ASSERT_JSB_OK(jsb_encode_uint16(buffer, 4095));
    ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
    ASSERT_JSB(output == 4095);
    ASSERT_JSB_OK(jsb_encode_uint16(buffer, 8191));
    ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
    ASSERT_JSB(output == 8191);
    ASSERT_JSB_OK(jsb_encode_uint16(buffer, 16383));
    ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
    ASSERT_JSB(output == 16383);
    ASSERT_JSB_OK(jsb_encode_uint16(buffer, 32767));
    ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
    ASSERT_JSB(output == 32767);
    ASSERT_JSB_OK(jsb_encode_uint16(buffer, 65535));
    ASSERT_JSB_OK(jsb_decode_uint16(buffer, &output));
    ASSERT_JSB(output == 65535);
  }
  {
    // Encode signed integer
    jsb_uint8_t buffer[1];
    jsb_uint8_t output;
    ASSERT_JSB_OK(jsb_encode_uint8(buffer, UINT8_MAX));
    ASSERT_JSB_OK(jsb_decode_uint8(buffer, &output));
    ASSERT_JSB(output == UINT8_MAX);
    ASSERT_JSB_OK(jsb_encode_uint8(buffer, 0));
    ASSERT_JSB_OK(jsb_decode_uint8(buffer, &output));
    ASSERT_JSB(output == 0);
    ASSERT_JSB_OK(jsb_encode_uint8(buffer, 1));
    ASSERT_JSB_OK(jsb_decode_uint8(buffer, &output));
    ASSERT_JSB(output == 1);
    ASSERT_JSB_OK(jsb_encode_uint8(buffer, 3));
    ASSERT_JSB_OK(jsb_decode_uint8(buffer, &output));
    ASSERT_JSB(output == 3);
    ASSERT_JSB_OK(jsb_encode_uint8(buffer, 7));
    ASSERT_JSB_OK(jsb_decode_uint8(buffer, &output));
    ASSERT_JSB(output == 7);
    ASSERT_JSB_OK(jsb_encode_uint8(buffer, 15));
    ASSERT_JSB_OK(jsb_decode_uint8(buffer, &output));
    ASSERT_JSB(output == 15);
    ASSERT_JSB_OK(jsb_encode_uint8(buffer, 31));
    ASSERT_JSB_OK(jsb_decode_uint8(buffer, &output));
    ASSERT_JSB(output == 31);
    ASSERT_JSB_OK(jsb_encode_uint8(buffer, 63));
    ASSERT_JSB_OK(jsb_decode_uint8(buffer, &output));
    ASSERT_JSB(output == 63);
    ASSERT_JSB_OK(jsb_encode_uint8(buffer, 127));
    ASSERT_JSB_OK(jsb_decode_uint8(buffer, &output));
    ASSERT_JSB(output == 127);
    ASSERT_JSB_OK(jsb_encode_uint8(buffer, 255));
    ASSERT_JSB_OK(jsb_decode_uint8(buffer, &output));
    ASSERT_JSB(output == 255);
  }
  {
    // Encode signed integer
    jsb_uint8_t buffer[4];
    jsb_float_t output;
    ASSERT_JSB_OK(jsb_encode_float(buffer, FLT_MAX));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == FLT_MAX);
    ASSERT_JSB_OK(jsb_encode_float(buffer, FLT_MIN));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == FLT_MIN);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 2.744296669373977e+30f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 2.744296669373977e+30f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -2.065705360395479e-22f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -2.065705360395479e-22f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 2235.251953125f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 2235.251953125f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -2.0316372685157256e-19f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -2.0316372685157256e-19f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -13198.3076171875f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -13198.3076171875f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 3.123426281096023e-23f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 3.123426281096023e-23f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -8.454302253928236e-14f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -8.454302253928236e-14f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -2.0484577575863305e-11f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -2.0484577575863305e-11f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 1.7327819796815686e-18f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 1.7327819796815686e-18f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -6.091456413554335e-27f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -6.091456413554335e-27f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 2.4627472265921924e-23f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 2.4627472265921924e-23f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -1.3920053331691077e-38f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -1.3920053331691077e-38f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 612.0709838867188f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 612.0709838867188f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 25689762.0f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 25689762.0f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 1.2518061285864583e-18f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 1.2518061285864583e-18f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -8.933821226417626e-22f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -8.933821226417626e-22f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 1.2188100558088476e-37f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 1.2188100558088476e-37f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 2.5031670247699367e-7f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 2.5031670247699367e-7f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -269352342044937300000.0f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -269352342044937300000.0f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -427201640005632.0f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -427201640005632.0f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -9.881762130467726e-21f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -9.881762130467726e-21f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 765771904.0f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 765771904.0f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -6.583078719112163e+35f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -6.583078719112163e+35f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -4.90496958439537e-19f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -4.90496958439537e-19f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -5.439878286652452e+21f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -5.439878286652452e+21f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 7038.494140625f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 7038.494140625f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 1.0853465982829072e+34f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 1.0853465982829072e+34f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -4.6713799519629887e-23f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -4.6713799519629887e-23f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 6.689812618962422e+24f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 6.689812618962422e+24f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 2.1652957344916776e-25f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 2.1652957344916776e-25f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -2546263576805376.0f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -2546263576805376.0f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -1.9613398194451293e-7f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -1.9613398194451293e-7f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 7.14782566456771e-18f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 7.14782566456771e-18f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -5.217760156141612e+36f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -5.217760156141612e+36f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 5.906903216589706e-20f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 5.906903216589706e-20f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 1.2949279949100007e-24f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 1.2949279949100007e-24f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 558964224.0f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 558964224.0f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -1.441145652931705e-36f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -1.441145652931705e-36f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 4.29913269714763e-21f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 4.29913269714763e-21f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -1.483393801664514e-35f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -1.483393801664514e-35f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -7.540612378438515e-18f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -7.540612378438515e-18f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 1.590942626175462e-24f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 1.590942626175462e-24f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 294769.6875f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 294769.6875f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 83731728.0f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 83731728.0f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 5.418429508601029e+32f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 5.418429508601029e+32f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 7717587005734912.0f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 7717587005734912.0f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 4.8312904834718316e-26f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 4.8312904834718316e-26f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 9.461322286628072e-17f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 9.461322286628072e-17f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 1.6402341884713678e-7f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 1.6402341884713678e-7f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -5.136482598747591e+35f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -5.136482598747591e+35f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 2607.555908203125f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 2607.555908203125f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 2.5203412690188998e-9f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 2.5203412690188998e-9f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 0.0000217380602407502f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 0.0000217380602407502f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -1.4125994596270175e-8f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -1.4125994596270175e-8f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -3.4568370784793055e-34f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -3.4568370784793055e-34f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -196981.625f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -196981.625f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 5.59059980622741e-23f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 5.59059980622741e-23f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -8.628004314462389e-21f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -8.628004314462389e-21f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -13679.7861328125f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -13679.7861328125f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -12233872.0f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -12233872.0f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -2467092758528.0f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -2467092758528.0f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 6.731022182328257e-31f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 6.731022182328257e-31f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 5.868364007330306e-26f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 5.868364007330306e-26f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -2.411878573590272e+21f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -2.411878573590272e+21f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 9.076689053144626e-13f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 9.076689053144626e-13f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 5.14309870491467e+36f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 5.14309870491467e+36f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -3.3194037557595437e+34f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -3.3194037557595437e+34f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 1.960939985791397e-24f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 1.960939985791397e-24f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 1.1707489167541913e-19f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 1.1707489167541913e-19f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 1.7769694619211973e+34f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 1.7769694619211973e+34f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -3.273313691622071e-19f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -3.273313691622071e-19f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 1.2369438156037416e-12f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 1.2369438156037416e-12f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -3.844969853616931e-8f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -3.844969853616931e-8f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 3.0438463140550754e-17f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 3.0438463140550754e-17f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -7.294454817952101e-9f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -7.294454817952101e-9f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 1.0039564528040042e-22f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 1.0039564528040042e-22f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 9.292783369614124e+32f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 9.292783369614124e+32f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 161288271211528200.0f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 161288271211528200.0f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -1.5532990827156048e+27f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -1.5532990827156048e+27f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 1.9315699213706683e-12f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 1.9315699213706683e-12f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -361.5607604980469f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -361.5607604980469f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -46855.28515625f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -46855.28515625f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 5.027575103965019e-34f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 5.027575103965019e-34f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -2.3727045247325133e-28f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -2.3727045247325133e-28f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -1.8545469466560722e-19f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -1.8545469466560722e-19f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -1.3837332926198908e-31f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -1.3837332926198908e-31f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 13472796461720666000.0f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 13472796461720666000.0f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 6.311140729913875e+21f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 6.311140729913875e+21f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 6.06315967397973e-24f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 6.06315967397973e-24f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 66258.96875f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 66258.96875f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -0.9423266649246216f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -0.9423266649246216f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 1.1965938222918693e-13f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 1.1965938222918693e-13f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 1.8004361353200663e-37f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 1.8004361353200663e-37f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -2.3087163453004188e-17f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -2.3087163453004188e-17f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 1.3789036579225922e-10f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 1.3789036579225922e-10f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -2.4590617717838993e-37f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -2.4590617717838993e-37f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 112557432832.0f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 112557432832.0f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 1.239794600316202e-9f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 1.239794600316202e-9f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, -133561.015625f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == -133561.015625f);
    ASSERT_JSB_OK(jsb_encode_float(buffer, 66287065628672.0f));
    ASSERT_JSB_OK(jsb_decode_float(buffer, &output));
    ASSERT_JSB(output == 66287065628672.0f);
  }
  {
    // Encode signed integer
    jsb_uint8_t buffer[8];
    jsb_double_t output;
    ASSERT_JSB_OK(jsb_encode_double(buffer, DBL_MAX));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == DBL_MAX);
    ASSERT_JSB_OK(jsb_encode_double(buffer, DBL_MIN));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == DBL_MIN);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -4.3777286694229007e-241));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -4.3777286694229007e-241);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -2.868014727110827e-233));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -2.868014727110827e-233);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -6.12594991458813e+46));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -6.12594991458813e+46);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -1.1306591530002718e+84));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -1.1306591530002718e+84);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -5.190683073734893e-217));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -5.190683073734893e-217);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 2.7513727849422564e-123));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 2.7513727849422564e-123);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 1.1873257852579328e+283));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 1.1873257852579328e+283);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -16691517465172232000.0));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -16691517465172232000.0);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 5.6542479774143245e+71));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 5.6542479774143245e+71);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 9.611602328314244e-278));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 9.611602328314244e-278);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -9.445610627293129e-93));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -9.445610627293129e-93);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -1.11415557007113e+100));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -1.11415557007113e+100);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 1.5212410523760724e-66));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 1.5212410523760724e-66);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -4.317176559235738e+222));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -4.317176559235738e+222);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -7.597529979874412e-135));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -7.597529979874412e-135);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -1.6867432180773008e+202));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -1.6867432180773008e+202);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -3.2722611276728924e-296));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -3.2722611276728924e-296);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -1.5486482895238027e+103));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -1.5486482895238027e+103);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -5.74196095144585e+70));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -5.74196095144585e+70);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 2.0499054154353658e+206));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 2.0499054154353658e+206);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 6.789530829130182e+49));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 6.789530829130182e+49);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -7.943306732827653e+300));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -7.943306732827653e+300);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -1.8081671820858072e-103));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -1.8081671820858072e-103);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 1.945510130796075e+32));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 1.945510130796075e+32);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -210.86508784685975));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -210.86508784685975);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -4.993595901426679e-74));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -4.993595901426679e-74);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -1.8857582321414844e-271));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -1.8857582321414844e-271);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 4.091863107447867e-304));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 4.091863107447867e-304);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -2.368679568000642e+155));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -2.368679568000642e+155);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -6.560344582843754e+67));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -6.560344582843754e+67);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 6.959206981025303e+203));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 6.959206981025303e+203);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 4.814739203937907e-210));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 4.814739203937907e-210);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 7.238931794067941e-206));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 7.238931794067941e-206);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 3.3850356431597837e-187));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 3.3850356431597837e-187);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 1.6463410869978907e-46));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 1.6463410869978907e-46);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 1.6247433828781634e+286));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 1.6247433828781634e+286);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -6.115683984571715e-15));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -6.115683984571715e-15);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 2857339.84224696));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 2857339.84224696);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -6.866545122259827e+269));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -6.866545122259827e+269);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -4.0943593662922647e+281));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -4.0943593662922647e+281);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 1.2115004517015417e-229));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 1.2115004517015417e-229);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -4.8355958045419896e-185));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -4.8355958045419896e-185);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -3.531600489196782e-179));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -3.531600489196782e-179);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -1.571522705617195e+268));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -1.571522705617195e+268);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 7.992318140217026e-200));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 7.992318140217026e-200);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -1.000795387626334e+175));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -1.000795387626334e+175);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 1.3652870636680438e+273));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 1.3652870636680438e+273);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 3.5042676256548804e+216));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 3.5042676256548804e+216);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 4.027019525261904e+247));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 4.027019525261904e+247);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -4.695559882862346e-24));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -4.695559882862346e-24);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 7027614241156916.0));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 7027614241156916.0);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -4.387201352145459e+157));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -4.387201352145459e+157);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 3.712827519806448e-143));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 3.712827519806448e-143);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -8.412489551909764e+176));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -8.412489551909764e+176);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -3.7498850011807314e-222));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -3.7498850011807314e-222);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -1.440135288592044e-94));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -1.440135288592044e-94);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 1.6450247881738808e+82));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 1.6450247881738808e+82);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -1.5618022358394545e-114));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -1.5618022358394545e-114);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 2.781643852488885e-282));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 2.781643852488885e-282);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 2.7834072150578895e-77));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 2.7834072150578895e-77);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -1.2371670570264292e+248));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -1.2371670570264292e+248);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -1.1158593604319513e-246));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -1.1158593604319513e-246);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 2.4917824186043985e-27));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 2.4917824186043985e-27);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 1.9679049284528395e+228));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 1.9679049284528395e+228);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 2.7846917132370403e+99));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 2.7846917132370403e+99);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -3.320432159999754e+299));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -3.320432159999754e+299);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 1.1826045247821342e-139));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 1.1826045247821342e-139);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -1.2064198616006785e-258));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -1.2064198616006785e-258);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 6.435835975732493e-240));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 6.435835975732493e-240);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -2.8145970946384797e-108));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -2.8145970946384797e-108);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -3.2084509493851894e-108));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -3.2084509493851894e-108);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 2.1777444014587806e+248));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 2.1777444014587806e+248);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -2.6763342963147842e+39));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -2.6763342963147842e+39);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -4.28207397019119e+56));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -4.28207397019119e+56);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 1.259177132324254e+99));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 1.259177132324254e+99);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -9.362634113776172e-14));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -9.362634113776172e-14);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 2.3591492265799034e-40));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 2.3591492265799034e-40);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -2.3804588595968016e+173));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -2.3804588595968016e+173);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 1.9557593956503744e+194));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 1.9557593956503744e+194);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 1.7686400514594816e+193));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 1.7686400514594816e+193);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 2.8844821865453203e-176));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 2.8844821865453203e-176);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -1.2251883252830654e+284));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -1.2251883252830654e+284);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -7166167.771791805));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -7166167.771791805);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -1.3116707572452333e-79));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -1.3116707572452333e-79);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 4.0451623226775865e+176));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 4.0451623226775865e+176);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -4.6072919362711456e-128));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -4.6072919362711456e-128);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 5.384114434638827e+198));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 5.384114434638827e+198);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -1.0478429809184214e+308));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -1.0478429809184214e+308);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -4.531545402474271e-277));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -4.531545402474271e-277);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 3.012400793847652e+294));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 3.012400793847652e+294);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -2.3885086796351956e+110));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -2.3885086796351956e+110);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 3.4808860802276765e-175));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 3.4808860802276765e-175);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 1.140664558901013e-152));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 1.140664558901013e-152);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -3.2228159747316296e-274));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -3.2228159747316296e-274);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 4.703016037266506e+170));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 4.703016037266506e+170);
    ASSERT_JSB_OK(jsb_encode_double(buffer, -7.986041383346723e-267));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == -7.986041383346723e-267);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 4.529506502657657e-32));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 4.529506502657657e-32);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 4.6523920795717985e+134));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 4.6523920795717985e+134);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 9.692594468732588e-23));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 9.692594468732588e-23);
    ASSERT_JSB_OK(jsb_encode_double(buffer, 2.8737565922440923e-258));
    ASSERT_JSB_OK(jsb_decode_double(buffer, &output));
    ASSERT_JSB(output == 2.8737565922440923e-258);
  }
}
